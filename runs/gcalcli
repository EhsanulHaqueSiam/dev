#!/usr/bin/env bash
set -euo pipefail

# Google Calendar CLI â€” needed for tmux meeting status
# Use pipx to avoid PEP 668 externally-managed-environment errors
if ! command -v pipx &>/dev/null; then
	if command -v pacman &>/dev/null; then
		sudo pacman -S --noconfirm --needed python-pipx
	else
		echo "[gcalcli] Arch Linux required"; exit 1
	fi
fi

pipx install gcalcli

echo "[gcalcli] installed. Run 'gcalcli init' to authenticate with Google Calendar."
