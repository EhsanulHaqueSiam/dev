### HIGH PERFORMANCE - Arch Linux + RTX 4060 Mobile + i7-13700H ###

# Maximum Quality Profile
profile=gpu-hq

# Video Output & GPU Settings - Maximum Performance
vo=gpu-next
gpu-api=vulkan
gpu-context=wayland
vd-lavc-dr=yes
vulkan-async-compute=yes
vulkan-async-transfer=yes
vulkan-queue-count=4

# Hardware Decoding - Full NVDEC utilization
hwdec=nvdec-copy
hwdec-codecs=all
vd-lavc-assume-old-x264=no
vd-lavc-fast=no
vd-lavc-skiploopfilter=none
vd-lavc-skipidct=none
vd-lavc-skipframe=none

# High-Quality Video Processing
video-sync=display-resample
interpolation=yes
tscale=sphinx
tscale-window=sphinx
tscale-radius=1.0
tscale-clamp=0.0

# Advanced Scaling
scale=ewa_lanczossharp
scale-antiring=0.7
cscale=ewa_lanczos
cscale-antiring=0.9
dscale=lanczos
dscale-antiring=0.8

# Quality Enhancement
dither-depth=auto
correct-downscaling=yes
linear-downscaling=no
sigmoid-upscaling=yes
deband=yes
deband-iterations=4
deband-threshold=32
deband-range=24
deband-grain=16
temporal-dither=yes

# Aggressive Cache Settings - Utilize 16GB RAM
cache=yes
demuxer-max-bytes=500MiB
demuxer-max-back-bytes=200MiB
demuxer-readahead-secs=60
cache-secs=30

# High-Quality Audio Settings
audio-device=auto
audio-exclusive=no
volume=70
volume-max=200
audio-pitch-correction=yes
audio-channels=7.1,5.1,stereo
audio-samplerate=48000
audio-format=float
audio-normalize-downmix=yes
af=lavfi=[aresample=resampler=soxr:precision=28:cheby=1]

# Language Preferences
alang=ja,jp,jpn,japanese,en,eng,english
slang=en,eng,english,ja,jp,jpn,japanese

# Subtitle Settings
sub-auto=fuzzy
sub-file-paths=sub:subs:subtitles:Subs:Subtitles
audio-file-auto=fuzzy
sub-fix-timing=yes
blend-subtitles=yes
sub-ass-override=force
demuxer-mkv-subtitle-preroll=yes

# Power Management & Battery Optimization
# battery-profile option doesn't exist, using conditional profiles instead

# IPC & Interface
input-ipc-server=/tmp/mpv-socket
osc=no
osd-bar=no
border=no

# File Management
keep-open=yes
save-position-on-quit=yes
watch-later-dir="~~/cache/watch_later"
gpu-shader-cache-dir="~~/cache/shaders_cache"

# Screenshot Settings
screenshot-format=png
screenshot-png-compression=8
screenshot-directory="~/Pictures/mpv-screenshots"

### Profile Includes ###
include="~~/profiles.conf"

### Subtitle Styling - Clean & Modern ###
sub-font="Noto Sans"
sub-font-size=52
sub-color="#FFFFFF"
sub-border-color="#000000"
sub-border-size=2.4
sub-shadow-offset=1
sub-shadow-color="#33000000"
sub-spacing=0.5
sub-margin-x=25
sub-margin-y=50
sub-scale=0.9

### OSD Styling ###
osd-font="JetBrains Mono"
osd-font-size=32
osd-color="#FFFFFF"
osd-border-color="#000000"
osd-border-size=1.5
osd-shadow-offset=1
osd-shadow-color="#33000000"
osd-spacing=0.25
osd-margin-x=25
osd-margin-y=25

### Audio Enhancement (Toggle with 'a' key) ###
# Dynamic range compression for laptop speakers
af-toggle=@dynaudnorm:lavfi=[dynaudnorm=f=500:g=31:p=0.5:m=10:r=0.9:s=0.5]

# Key bindings are now in input.conf file
